---
# yaml-language-server: $schema=https://json.schemastore.org/github-action.json
name: Biome Check
description: Run Biome check on the repository
author: Ismo Vuorinen

branding:
  icon: check-circle
  color: green

runs:
  using: composite
  steps:
    - name: Checkout Repository
      uses: actions/checkout@11bd71901bbe5b1630ceea73d27597364c9af683 # v4.2.2

    - name: Set Git Config
      uses: ./set-git-config

    - name: Node Setup
      uses: ./node-setup

    - name: Install Dependencies
      shell: bash
      run: |
        npm install -g biome

    - name: Run Biome Check
      shell: bash
      run: |
        biome check . --json > biome-report.json

    - name: Upload Biome Results
      uses: github/codeql-action/upload-sarif@4e828ff8d448a8a6e532957b1811f387a63867e8 # v3.29.4
      with:
        sarif_file: biome-report.json
